{"version":3,"sources":["server.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,cAAc,QAAQ,aAAR,CAAlB;;;AAGA,IAAI,cAAc,EAAC,YAAY,oDAAb,EAAlB;;AAEA,IAAI,cAAc,OAAO,YAAP,CAAoB,WAApB,CAAlB;AACA,YAAY,EAAZ,CAAe,YAAf,EAA6B,UAAS,IAAT,EAAe;AACxC,SAAK,EAAL,CAAQ,MAAR,EAAgB,UAAS,OAAT,EAAkB;AAC9B,aAAK,KAAL,CAAW,OAAX;AACH,KAFD;AAGH,CAJD;;;AAOA,IAAI,mBAAmB,IAAI,YAAY,MAAhB,CAAuB,SAAvB,CAAvB;;;AAGA,IAAI,SAAS,KAAK,YAAL,EAAb;AACA,OAAO,WAAP,CAAmB,SAAnB,EAA8B,UAAS,GAAT,EAAc,GAAd,EAAmB;AAC7C,qBAAiB,KAAjB,CAAuB,GAAvB,EAA4B,GAA5B;AACH,CAFD;AAGA,OAAO,WAAP,CAAmB,SAAnB,EAA8B,UAAS,GAAT,EAAa,GAAb,EAAiB;AAC3C,QAAI,GAAJ;AACH,CAFD;;AAIA,YAAY,eAAZ,CAA4B,MAA5B,EAAoC,EAAC,QAAO,OAAR,EAApC;;AAEA,QAAQ,GAAR,CAAY,gCAAZ;AACA,OAAO,MAAP,CAAc,IAAd,EAAoB,SAApB","file":"server-compiled.js","sourcesContent":["var http = require('http');\nvar sockjs = require('sockjs');\nvar node_static = require('node-static');\n\n// 1. Echo sockjs server\nvar sockjs_opts = {sockjs_url: \"http://cdn.jsdelivr.net/sockjs/1.0.1/sockjs.min.js\"};\n\nvar sockjs_echo = sockjs.createServer(sockjs_opts);\nsockjs_echo.on('connection', function(conn) {\n    conn.on('data', function(message) {\n        conn.write(message);\n    });\n});\n\n// 2. Static files server\nvar static_directory = new node_static.Server(__dirname);\n\n// 3. Usual http stuff\nvar server = http.createServer();\nserver.addListener('request', function(req, res) {\n    static_directory.serve(req, res);\n});\nserver.addListener('upgrade', function(req,res){\n    res.end();\n});\n\nsockjs_echo.installHandlers(server, {prefix:'/echo'});\n\nconsole.log(' [*] Listening on 0.0.0.0:9999' );\nserver.listen(9999, '0.0.0.0');\n"]}