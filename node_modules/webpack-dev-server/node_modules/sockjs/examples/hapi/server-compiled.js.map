{"version":3,"sources":["server.js"],"names":[],"mappings":";;;AAGA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;;AAGA,IAAI,cAAc,EAAC,YAAY,oDAAb,EAAlB;;AAEA,IAAI,cAAc,OAAO,YAAP,CAAoB,WAApB,CAAlB;AACA,YAAY,EAAZ,CAAe,YAAf,EAA6B,UAAS,IAAT,EAAe;AACxC,SAAK,EAAL,CAAQ,MAAR,EAAgB,UAAS,OAAT,EAAkB;AAC9B,aAAK,KAAL,CAAW,OAAX;AACH,KAFD;AAGH,CAJD;;;AAOA,IAAI,cAAc,KAAK,YAAL,CAAkB,SAAlB,EAA6B,IAA7B,CAAlB;;AAEA,YAAY,KAAZ,CAAkB;AACd,YAAQ,KADM;AAEd,UAAM,UAFQ;AAGd,aAAS;AACL,mBAAW,EAAE,MAAM,QAAR,EAAkB,SAAS,KAA3B,EAAkC,OAAO,IAAzC;AADN;AAHK,CAAlB;;;AASA,YAAY,eAAZ,CAA4B,YAAY,QAAxC,EAAkD,EAAC,QAAO,OAAR,EAAlD;;AAEA,QAAQ,GAAR,CAAY,gCAAZ;AACA,YAAY,KAAZ","file":"server-compiled.js","sourcesContent":["/**\n * Created by Tony on 11/1/13.\n */\nvar http = require('http');\nvar sockjs = require('sockjs');\nvar Hapi = require('hapi');\n\n// 1. Echo sockjs server\nvar sockjs_opts = {sockjs_url: \"http://cdn.jsdelivr.net/sockjs/1.0.1/sockjs.min.js\"};\n\nvar sockjs_echo = sockjs.createServer(sockjs_opts);\nsockjs_echo.on('connection', function(conn) {\n    conn.on('data', function(message) {\n        conn.write(message);\n    });\n});\n\n// Create a server with a host and port\nvar hapi_server = Hapi.createServer('0.0.0.0', 9999);\n\nhapi_server.route({\n    method: 'GET',\n    path: '/{path*}',\n    handler: {\n        directory: { path: './html', listing: false, index: true }\n    }\n});\n\n//hapi_server.listener is the http listener hapi uses\nsockjs_echo.installHandlers(hapi_server.listener, {prefix:'/echo'});\n\nconsole.log(' [*] Listening on 0.0.0.0:9999' );\nhapi_server.start();\n"]}