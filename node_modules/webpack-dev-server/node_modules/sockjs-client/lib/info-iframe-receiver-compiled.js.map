{"version":3,"sources":["info-iframe-receiver.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,QAAQ,UAAR,CAAf;IACI,eAAe,QAAQ,QAAR,EAAkB,YADrC;IAEI,QAAQ,QAAQ,OAAR,CAFZ;IAGI,iBAAiB,QAAQ,8BAAR,CAHrB;IAII,WAAW,QAAQ,aAAR,CAJf;;AAOA,SAAS,kBAAT,CAA4B,QAA5B,EAAsC;AACpC,MAAI,OAAO,IAAX;AACA,eAAa,IAAb,CAAkB,IAAlB;;AAEA,OAAK,EAAL,GAAU,IAAI,QAAJ,CAAa,QAAb,EAAuB,cAAvB,CAAV;AACA,OAAK,EAAL,CAAQ,IAAR,CAAa,QAAb,EAAuB,UAAS,IAAT,EAAe,GAAf,EAAoB;AACzC,SAAK,EAAL,GAAU,IAAV;AACA,SAAK,IAAL,CAAU,SAAV,EAAqB,MAAM,SAAN,CAAgB,CAAC,IAAD,EAAO,GAAP,CAAhB,CAArB;AACD,GAHD;AAID;;AAED,SAAS,kBAAT,EAA6B,YAA7B;;AAEA,mBAAmB,aAAnB,GAAmC,sBAAnC;;AAEA,mBAAmB,SAAnB,CAA6B,KAA7B,GAAqC,YAAW;AAC9C,MAAI,KAAK,EAAT,EAAa;AACX,SAAK,EAAL,CAAQ,KAAR;AACA,SAAK,EAAL,GAAU,IAAV;AACD;AACD,OAAK,kBAAL;AACD,CAND;;AAQA,OAAO,OAAP,GAAiB,kBAAjB","file":"info-iframe-receiver-compiled.js","sourcesContent":["'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , JSON3 = require('json3')\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON3.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n"]}