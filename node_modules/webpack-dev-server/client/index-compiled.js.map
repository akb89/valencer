{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var url = require('url');\r\nvar SockJS = require(\"sockjs-client\");\r\nvar stripAnsi = require('strip-ansi');\r\nvar scriptElements = document.getElementsByTagName(\"script\");\r\nvar scriptHost = scriptElements[scriptElements.length-1].getAttribute(\"src\").replace(/\\/[^\\/]+$/, \"\");\r\n\r\n// If this bundle is inlined, use the resource query to get the correct url.\r\n// Else, get the url from the <script> this file was called with.\r\nvar urlParts = url.parse(typeof __resourceQuery === \"string\" && __resourceQuery ?\r\n\t__resourceQuery.substr(1) :\r\n\t(scriptHost ? scriptHost : \"/\")\r\n);\r\n\r\nvar sock = null;\r\nvar hot = false;\r\nvar initial = true;\r\nvar currentHash = \"\";\r\n\r\nvar onSocketMsg = {\r\n\thot: function() {\r\n\t\thot = true;\r\n\t\tconsole.log(\"[WDS] Hot Module Replacement enabled.\");\r\n\t},\r\n\tinvalid: function() {\r\n\t\tconsole.log(\"[WDS] App updated. Recompiling...\");\r\n\t},\r\n\thash: function(hash) {\r\n\t\tcurrentHash = hash;\r\n\t},\r\n\t\"still-ok\": function() {\r\n\t\tconsole.log(\"[WDS] Nothing changed.\")\r\n\t},\r\n\tok: function() {\r\n\t\tif(initial) return initial = false;\r\n\t\treloadApp();\r\n\t},\r\n\twarnings: function(warnings) {\r\n\t\tconsole.log(\"[WDS] Warnings while compiling.\");\r\n\t\tfor(var i = 0; i < warnings.length; i++)\r\n\t\t\tconsole.warn(stripAnsi(warnings[i]));\r\n\t\tif(initial) return initial = false;\r\n\t\treloadApp();\r\n\t},\r\n\terrors: function(errors) {\r\n\t\tconsole.log(\"[WDS] Errors while compiling.\");\r\n\t\tfor(var i = 0; i < errors.length; i++)\r\n\t\t\tconsole.error(stripAnsi(errors[i]));\r\n\t\tif(initial) return initial = false;\r\n\t\treloadApp();\r\n\t},\r\n\t\"proxy-error\": function(errors) {\r\n\t\tconsole.log(\"[WDS] Proxy error.\");\r\n\t\tfor(var i = 0; i < errors.length; i++)\r\n\t\t\tconsole.error(stripAnsi(errors[i]));\r\n\t\tif(initial) return initial = false;\r\n\t\treloadApp();\r\n\t}\r\n};\r\n\r\nvar newConnection = function() {\r\n\tsock = new SockJS(url.format({\r\n\t\tprotocol: urlParts.protocol,\r\n\t\tauth: urlParts.auth,\r\n\t\thostname: (urlParts.hostname === '0.0.0.0') ? window.location.hostname : urlParts.hostname,\r\n\t\tport: urlParts.port,\r\n\t\tpathname: urlParts.path === '/' ? \"/sockjs-node\" : urlParts.path\r\n\t}));\r\n\r\n\tsock.onclose = function() {\r\n\t\tconsole.error(\"[WDS] Disconnected!\");\r\n\r\n\t\t// Try to reconnect.\r\n\t\tsock = null;\r\n\t\tsetTimeout(function () {\r\n\t\t\tnewConnection();\r\n\t\t}, 2000);\r\n\t};\r\n\r\n\tsock.onmessage = function(e) {\r\n\t\t// This assumes that all data sent via the websocket is JSON.\r\n\t\tvar msg = JSON.parse(e.data);\r\n\t\tonSocketMsg[msg.type](msg.data);\r\n\t};\r\n};\r\n\r\nnewConnection();\r\n\r\nfunction reloadApp() {\r\n\tif(hot) {\r\n\t\tconsole.log(\"[WDS] App hot update...\");\r\n\t\twindow.postMessage(\"webpackHotUpdate\" + currentHash, \"*\");\r\n\t} else {\r\n\t\tconsole.log(\"[WDS] App updated. Reloading...\");\r\n\t\twindow.location.reload();\r\n\t}\r\n}\r\n"]}