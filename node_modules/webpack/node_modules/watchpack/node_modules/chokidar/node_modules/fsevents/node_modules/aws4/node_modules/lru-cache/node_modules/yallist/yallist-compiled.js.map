{"version":3,"sources":["yallist.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,OAAjB;;AAEA,QAAQ,IAAR,GAAe,IAAf;AACA,QAAQ,MAAR,GAAiB,OAAjB;;AAEA,SAAS,OAAT,CAAkB,IAAlB,EAAwB;AACtB,MAAI,OAAO,IAAX;AACA,MAAI,EAAE,gBAAgB,OAAlB,CAAJ,EAAgC;AAC9B,WAAO,IAAI,OAAJ,EAAP;AACD;;AAED,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,MAAL,GAAc,CAAd;;AAEA,MAAI,QAAQ,OAAO,KAAK,OAAZ,KAAwB,UAApC,EAAgD;AAC9C,SAAK,OAAL,CAAa,UAAU,IAAV,EAAgB;AAC3B,WAAK,IAAL,CAAU,IAAV;AACD,KAFD;AAGD,GAJD,MAIO,IAAI,UAAU,MAAV,GAAmB,CAAvB,EAA0B;AAC/B,SAAK,IAAI,IAAI,CAAR,EAAW,IAAI,UAAU,MAA9B,EAAsC,IAAI,CAA1C,EAA6C,GAA7C,EAAkD;AAChD,WAAK,IAAL,CAAU,UAAU,CAAV,CAAV;AACD;AACF;;AAED,SAAO,IAAP;AACD;;AAED,QAAQ,SAAR,CAAkB,UAAlB,GAA+B,UAAU,IAAV,EAAgB;AAC7C,MAAI,KAAK,IAAL,KAAc,IAAlB,EAAwB;AACtB,UAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN;AACD;;AAED,MAAI,OAAO,KAAK,IAAhB;AACA,MAAI,OAAO,KAAK,IAAhB;;AAEA,MAAI,IAAJ,EAAU;AACR,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,MAAI,IAAJ,EAAU;AACR,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,MAAI,SAAS,KAAK,IAAlB,EAAwB;AACtB,SAAK,IAAL,GAAY,IAAZ;AACD;AACD,MAAI,SAAS,KAAK,IAAlB,EAAwB;AACtB,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,OAAK,IAAL,CAAU,MAAV;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACD,CA3BD;;AA6BA,QAAQ,SAAR,CAAkB,WAAlB,GAAgC,UAAU,IAAV,EAAgB;AAC9C,MAAI,SAAS,KAAK,IAAlB,EAAwB;AACtB;AACD;;AAED,MAAI,KAAK,IAAT,EAAe;AACb,SAAK,IAAL,CAAU,UAAV,CAAqB,IAArB;AACD;;AAED,MAAI,OAAO,KAAK,IAAhB;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,MAAI,IAAJ,EAAU;AACR,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,OAAK,IAAL,GAAY,IAAZ;AACA,MAAI,CAAC,KAAK,IAAV,EAAgB;AACd,SAAK,IAAL,GAAY,IAAZ;AACD;AACD,OAAK,MAAL;AACD,CArBD;;AAuBA,QAAQ,SAAR,CAAkB,QAAlB,GAA6B,UAAU,IAAV,EAAgB;AAC3C,MAAI,SAAS,KAAK,IAAlB,EAAwB;AACtB;AACD;;AAED,MAAI,KAAK,IAAT,EAAe;AACb,SAAK,IAAL,CAAU,UAAV,CAAqB,IAArB;AACD;;AAED,MAAI,OAAO,KAAK,IAAhB;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,MAAI,IAAJ,EAAU;AACR,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,OAAK,IAAL,GAAY,IAAZ;AACA,MAAI,CAAC,KAAK,IAAV,EAAgB;AACd,SAAK,IAAL,GAAY,IAAZ;AACD;AACD,OAAK,MAAL;AACD,CArBD;;AAuBA,QAAQ,SAAR,CAAkB,IAAlB,GAAyB,YAAY;AACnC,OAAK,IAAI,IAAI,CAAR,EAAW,IAAI,UAAU,MAA9B,EAAsC,IAAI,CAA1C,EAA6C,GAA7C,EAAkD;AAChD,SAAK,IAAL,EAAW,UAAU,CAAV,CAAX;AACD;AACD,SAAO,KAAK,MAAZ;AACD,CALD;;AAOA,QAAQ,SAAR,CAAkB,OAAlB,GAA4B,YAAY;AACtC,OAAK,IAAI,IAAI,CAAR,EAAW,IAAI,UAAU,MAA9B,EAAsC,IAAI,CAA1C,EAA6C,GAA7C,EAAkD;AAChD,YAAQ,IAAR,EAAc,UAAU,CAAV,CAAd;AACD;AACD,SAAO,KAAK,MAAZ;AACD,CALD;;AAOA,QAAQ,SAAR,CAAkB,GAAlB,GAAwB,YAAY;AAClC,MAAI,CAAC,KAAK,IAAV,EACE,OAAO,SAAP;;AAEF,MAAI,MAAM,KAAK,IAAL,CAAU,KAApB;AACA,OAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAtB;AACA,OAAK,IAAL,CAAU,IAAV,GAAiB,IAAjB;AACA,OAAK,MAAL;AACA,SAAO,GAAP;AACD,CATD;;AAWA,QAAQ,SAAR,CAAkB,KAAlB,GAA0B,YAAY;AACpC,MAAI,CAAC,KAAK,IAAV,EACE,OAAO,SAAP;;AAEF,MAAI,MAAM,KAAK,IAAL,CAAU,KAApB;AACA,OAAK,IAAL,GAAY,KAAK,IAAL,CAAU,IAAtB;AACA,OAAK,IAAL,CAAU,IAAV,GAAiB,IAAjB;AACA,OAAK,MAAL;AACA,SAAO,GAAP;AACD,CATD;;AAWA,QAAQ,SAAR,CAAkB,OAAlB,GAA4B,UAAU,EAAV,EAAc,KAAd,EAAqB;AAC/C,UAAQ,SAAS,IAAjB;AACA,OAAK,IAAI,SAAS,KAAK,IAAlB,EAAwB,IAAI,CAAjC,EAAoC,WAAW,IAA/C,EAAqD,GAArD,EAA0D;AACxD,OAAG,IAAH,CAAQ,KAAR,EAAe,OAAO,KAAtB,EAA6B,CAA7B,EAAgC,IAAhC;AACA,aAAS,OAAO,IAAhB;AACD;AACF,CAND;;AAQA,QAAQ,SAAR,CAAkB,cAAlB,GAAmC,UAAU,EAAV,EAAc,KAAd,EAAqB;AACtD,UAAQ,SAAS,IAAjB;AACA,OAAK,IAAI,SAAS,KAAK,IAAlB,EAAwB,IAAI,KAAK,MAAL,GAAc,CAA/C,EAAkD,WAAW,IAA7D,EAAmE,GAAnE,EAAwE;AACtE,OAAG,IAAH,CAAQ,KAAR,EAAe,OAAO,KAAtB,EAA6B,CAA7B,EAAgC,IAAhC;AACA,aAAS,OAAO,IAAhB;AACD;AACF,CAND;;AAQA,QAAQ,SAAR,CAAkB,GAAlB,GAAwB,UAAU,CAAV,EAAa;AACnC,OAAK,IAAI,IAAI,CAAR,EAAW,SAAS,KAAK,IAA9B,EAAoC,WAAW,IAAX,IAAmB,IAAI,CAA3D,EAA8D,GAA9D,EAAmE;;AAEjE,aAAS,OAAO,IAAhB;AACD;AACD,MAAI,MAAM,CAAN,IAAW,WAAW,IAA1B,EAAgC;AAC9B,WAAO,OAAO,KAAd;AACD;AACF,CARD;;AAUA,QAAQ,SAAR,CAAkB,UAAlB,GAA+B,UAAU,CAAV,EAAa;AAC1C,OAAK,IAAI,IAAI,CAAR,EAAW,SAAS,KAAK,IAA9B,EAAoC,WAAW,IAAX,IAAmB,IAAI,CAA3D,EAA8D,GAA9D,EAAmE;;AAEjE,aAAS,OAAO,IAAhB;AACD;AACD,MAAI,MAAM,CAAN,IAAW,WAAW,IAA1B,EAAgC;AAC9B,WAAO,OAAO,KAAd;AACD;AACF,CARD;;AAUA,QAAQ,SAAR,CAAkB,GAAlB,GAAwB,UAAU,EAAV,EAAc,KAAd,EAAqB;AAC3C,UAAQ,SAAS,IAAjB;AACA,MAAI,MAAM,IAAI,OAAJ,EAAV;AACA,OAAK,IAAI,SAAS,KAAK,IAAvB,EAA6B,WAAW,IAAxC,GAAgD;AAC9C,QAAI,IAAJ,CAAS,GAAG,IAAH,CAAQ,KAAR,EAAe,OAAO,KAAtB,EAA6B,IAA7B,CAAT;AACA,aAAS,OAAO,IAAhB;AACD;AACD,SAAO,GAAP;AACD,CARD;;AAUA,QAAQ,SAAR,CAAkB,UAAlB,GAA+B,UAAU,EAAV,EAAc,KAAd,EAAqB;AAClD,UAAQ,SAAS,IAAjB;AACA,MAAI,MAAM,IAAI,OAAJ,EAAV;AACA,OAAK,IAAI,SAAS,KAAK,IAAvB,EAA6B,WAAW,IAAxC,GAA+C;AAC7C,QAAI,IAAJ,CAAS,GAAG,IAAH,CAAQ,KAAR,EAAe,OAAO,KAAtB,EAA6B,IAA7B,CAAT;AACA,aAAS,OAAO,IAAhB;AACD;AACD,SAAO,GAAP;AACD,CARD;;AAUA,QAAQ,SAAR,CAAkB,MAAlB,GAA2B,UAAU,EAAV,EAAc,OAAd,EAAuB;AAChD,MAAI,GAAJ;AACA,MAAI,SAAS,KAAK,IAAlB;AACA,MAAI,UAAU,MAAV,GAAmB,CAAvB,EAA0B;AACxB,UAAM,OAAN;AACD,GAFD,MAEO,IAAI,KAAK,IAAT,EAAe;AACpB,aAAS,KAAK,IAAL,CAAU,IAAnB;AACA,UAAM,KAAK,IAAL,CAAU,KAAhB;AACD,GAHM,MAGA;AACL,UAAM,IAAI,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,OAAK,IAAI,IAAI,CAAb,EAAgB,WAAW,IAA3B,EAAiC,GAAjC,EAAsC;AACpC,UAAM,GAAG,GAAH,EAAQ,OAAO,KAAf,EAAsB,CAAtB,CAAN;AACA,aAAS,OAAO,IAAhB;AACD;;AAED,SAAO,GAAP;AACD,CAlBD;;AAoBA,QAAQ,SAAR,CAAkB,aAAlB,GAAkC,UAAU,EAAV,EAAc,OAAd,EAAuB;AACvD,MAAI,GAAJ;AACA,MAAI,SAAS,KAAK,IAAlB;AACA,MAAI,UAAU,MAAV,GAAmB,CAAvB,EAA0B;AACxB,UAAM,OAAN;AACD,GAFD,MAEO,IAAI,KAAK,IAAT,EAAe;AACpB,aAAS,KAAK,IAAL,CAAU,IAAnB;AACA,UAAM,KAAK,IAAL,CAAU,KAAhB;AACD,GAHM,MAGA;AACL,UAAM,IAAI,SAAJ,CAAc,4CAAd,CAAN;AACD;;AAED,OAAK,IAAI,IAAI,KAAK,MAAL,GAAc,CAA3B,EAA8B,WAAW,IAAzC,EAA+C,GAA/C,EAAoD;AAClD,UAAM,GAAG,GAAH,EAAQ,OAAO,KAAf,EAAsB,CAAtB,CAAN;AACA,aAAS,OAAO,IAAhB;AACD;;AAED,SAAO,GAAP;AACD,CAlBD;;AAoBA,QAAQ,SAAR,CAAkB,OAAlB,GAA4B,YAAY;AACtC,MAAI,MAAM,IAAI,KAAJ,CAAU,KAAK,MAAf,CAAV;AACA,OAAK,IAAI,IAAI,CAAR,EAAW,SAAS,KAAK,IAA9B,EAAoC,WAAW,IAA/C,EAAqD,GAArD,EAA0D;AACxD,QAAI,CAAJ,IAAS,OAAO,KAAhB;AACA,aAAS,OAAO,IAAhB;AACD;AACD,SAAO,GAAP;AACD,CAPD;;AASA,QAAQ,SAAR,CAAkB,cAAlB,GAAmC,YAAY;AAC7C,MAAI,MAAM,IAAI,KAAJ,CAAU,KAAK,MAAf,CAAV;AACA,OAAK,IAAI,IAAI,CAAR,EAAW,SAAS,KAAK,IAA9B,EAAoC,WAAW,IAA/C,EAAqD,GAArD,EAA0D;AACxD,QAAI,CAAJ,IAAS,OAAO,KAAhB;AACA,aAAS,OAAO,IAAhB;AACD;AACD,SAAO,GAAP;AACD,CAPD;;AASA,QAAQ,SAAR,CAAkB,KAAlB,GAA0B,UAAU,IAAV,EAAgB,EAAhB,EAAoB;AAC5C,OAAK,MAAM,KAAK,MAAhB;AACA,MAAI,KAAK,CAAT,EAAY;AACV,UAAM,KAAK,MAAX;AACD;AACD,SAAO,QAAQ,CAAf;AACA,MAAI,OAAO,CAAX,EAAc;AACZ,YAAQ,KAAK,MAAb;AACD;AACD,MAAI,MAAM,IAAI,OAAJ,EAAV;AACA,MAAI,KAAK,IAAL,IAAa,KAAK,CAAtB,EAAyB;AACvB,WAAO,GAAP;AACD;AACD,MAAI,OAAO,CAAX,EAAc;AACZ,WAAO,CAAP;AACD;AACD,MAAI,KAAK,KAAK,MAAd,EAAsB;AACpB,SAAK,KAAK,MAAV;AACD;AACD,OAAK,IAAI,IAAI,CAAR,EAAW,SAAS,KAAK,IAA9B,EAAoC,WAAW,IAAX,IAAmB,IAAI,IAA3D,EAAiE,GAAjE,EAAsE;AACpE,aAAS,OAAO,IAAhB;AACD;AACD,SAAO,WAAW,IAAX,IAAmB,IAAI,EAA9B,EAAkC,KAAK,SAAS,OAAO,IAAvD,EAA6D;AAC3D,QAAI,IAAJ,CAAS,OAAO,KAAhB;AACD;AACD,SAAO,GAAP;AACD,CA1BD;;AA4BA,QAAQ,SAAR,CAAkB,YAAlB,GAAiC,UAAU,IAAV,EAAgB,EAAhB,EAAoB;AACnD,OAAK,MAAM,KAAK,MAAhB;AACA,MAAI,KAAK,CAAT,EAAY;AACV,UAAM,KAAK,MAAX;AACD;AACD,SAAO,QAAQ,CAAf;AACA,MAAI,OAAO,CAAX,EAAc;AACZ,YAAQ,KAAK,MAAb;AACD;AACD,MAAI,MAAM,IAAI,OAAJ,EAAV;AACA,MAAI,KAAK,IAAL,IAAa,KAAK,CAAtB,EAAyB;AACvB,WAAO,GAAP;AACD;AACD,MAAI,OAAO,CAAX,EAAc;AACZ,WAAO,CAAP;AACD;AACD,MAAI,KAAK,KAAK,MAAd,EAAsB;AACpB,SAAK,KAAK,MAAV;AACD;AACD,OAAK,IAAI,IAAI,KAAK,MAAb,EAAqB,SAAS,KAAK,IAAxC,EAA8C,WAAW,IAAX,IAAmB,IAAI,EAArE,EAAyE,GAAzE,EAA8E;AAC5E,aAAS,OAAO,IAAhB;AACD;AACD,SAAO,WAAW,IAAX,IAAmB,IAAI,IAA9B,EAAoC,KAAK,SAAS,OAAO,IAAzD,EAA+D;AAC7D,QAAI,IAAJ,CAAS,OAAO,KAAhB;AACD;AACD,SAAO,GAAP;AACD,CA1BD;;AA4BA,QAAQ,SAAR,CAAkB,OAAlB,GAA4B,YAAY;AACtC,MAAI,OAAO,KAAK,IAAhB;AACA,MAAI,OAAO,KAAK,IAAhB;AACA,OAAK,IAAI,SAAS,IAAlB,EAAwB,WAAW,IAAnC,EAAyC,SAAS,OAAO,IAAzD,EAA+D;AAC7D,QAAI,IAAI,OAAO,IAAf;AACA,WAAO,IAAP,GAAc,OAAO,IAArB;AACA,WAAO,IAAP,GAAc,CAAd;AACD;AACD,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,IAAL,GAAY,IAAZ;AACA,SAAO,IAAP;AACD,CAXD;;AAaA,SAAS,IAAT,CAAe,IAAf,EAAqB,IAArB,EAA2B;AACzB,OAAK,IAAL,GAAY,IAAI,IAAJ,CAAS,IAAT,EAAe,KAAK,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,CAAZ;AACA,MAAI,CAAC,KAAK,IAAV,EAAgB;AACd,SAAK,IAAL,GAAY,KAAK,IAAjB;AACD;AACD,OAAK,MAAL;AACD;;AAED,SAAS,OAAT,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B;AAC5B,OAAK,IAAL,GAAY,IAAI,IAAJ,CAAS,IAAT,EAAe,IAAf,EAAqB,KAAK,IAA1B,EAAgC,IAAhC,CAAZ;AACA,MAAI,CAAC,KAAK,IAAV,EAAgB;AACd,SAAK,IAAL,GAAY,KAAK,IAAjB;AACD;AACD,OAAK,MAAL;AACD;;AAED,SAAS,IAAT,CAAe,KAAf,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC;AACtC,MAAI,EAAE,gBAAgB,IAAlB,CAAJ,EAA6B;AAC3B,WAAO,IAAI,IAAJ,CAAS,KAAT,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,CAAP;AACD;;AAED,OAAK,IAAL,GAAY,IAAZ;AACA,OAAK,KAAL,GAAa,KAAb;;AAEA,MAAI,IAAJ,EAAU;AACR,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,IAAL,GAAY,IAAZ;AACD,GAHD,MAGO;AACL,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,MAAI,IAAJ,EAAU;AACR,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,IAAL,GAAY,IAAZ;AACD,GAHD,MAGO;AACL,SAAK,IAAL,GAAY,IAAZ;AACD;AACF","file":"yallist-compiled.js","sourcesContent":["module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length --\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length ++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length ++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail)\n    return undefined\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  this.tail.next = null\n  this.length --\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head)\n    return undefined\n\n  var res = this.head.value\n  this.head = this.head.next\n  this.head.prev = null\n  this.length --\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null; ) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length ++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length ++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n"]}