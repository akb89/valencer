{"version":3,"sources":["bind.js"],"names":[],"mappings":"AAAA;;AACA,OAAO,OAAP,GAAiB,UAAS,OAAT,EAAkB,QAAlB,EAA4B,mBAA5B,EAAiD,KAAjD,EAAwD;AACzE,QAAI,aAAa,KAAjB;AACA,QAAI,aAAa,SAAb,UAAa,CAAS,CAAT,EAAY,CAAZ,EAAe;AAC5B,aAAK,OAAL,CAAa,CAAb;AACH,KAFD;;AAIA,QAAI,iBAAiB,SAAjB,cAAiB,CAAS,CAAT,EAAY,OAAZ,EAAqB;AACtC,gBAAQ,sBAAR,GAAiC,IAAjC;AACA,gBAAQ,cAAR,CAAuB,KAAvB,CAA6B,UAA7B,EAAyC,UAAzC,EAAqD,IAArD,EAA2D,IAA3D,EAAiE,CAAjE;AACH,KAHD;;AAKA,QAAI,kBAAkB,SAAlB,eAAkB,CAAS,OAAT,EAAkB,OAAlB,EAA2B;AAC7C,YAAK,CAAC,KAAK,SAAL,GAAiB,QAAlB,MAAgC,CAArC,EAAyC;AACrC,iBAAK,gBAAL,CAAsB,QAAQ,MAA9B;AACH;AACJ,KAJD;;AAMA,QAAI,kBAAkB,SAAlB,eAAkB,CAAS,CAAT,EAAY,OAAZ,EAAqB;AACvC,YAAI,CAAC,QAAQ,sBAAb,EAAqC,KAAK,OAAL,CAAa,CAAb;AACxC,KAFD;;AAIA,YAAQ,SAAR,CAAkB,IAAlB,GAAyB,UAAU,OAAV,EAAmB;AACxC,YAAI,CAAC,UAAL,EAAiB;AACb,yBAAa,IAAb;AACA,oBAAQ,SAAR,CAAkB,cAAlB,GAAmC,MAAM,qBAAN,EAAnC;AACA,oBAAQ,SAAR,CAAkB,WAAlB,GAAgC,MAAM,kBAAN,EAAhC;AACH;AACD,YAAI,eAAe,oBAAoB,OAApB,CAAnB;AACA,YAAI,MAAM,IAAI,OAAJ,CAAY,QAAZ,CAAV;AACA,YAAI,cAAJ,CAAmB,IAAnB,EAAyB,CAAzB;AACA,YAAI,SAAS,KAAK,OAAL,EAAb;AACA,YAAI,WAAJ,CAAgB,YAAhB;AACA,YAAI,wBAAwB,OAA5B,EAAqC;AACjC,gBAAI,UAAU;AACV,wCAAwB,KADd;AAEV,yBAAS,GAFC;AAGV,wBAAQ,MAHE;AAIV,gCAAgB;AAJN,aAAd;AAMA,mBAAO,KAAP,CAAa,QAAb,EAAuB,cAAvB,EAAuC,SAAvC,EAAkD,GAAlD,EAAuD,OAAvD;AACA,yBAAa,KAAb,CACI,eADJ,EACqB,eADrB,EACsC,SADtC,EACiD,GADjD,EACsD,OADtD;AAEA,gBAAI,YAAJ,CAAiB,YAAjB;AACH,SAXD,MAWO;AACH,gBAAI,gBAAJ,CAAqB,MAArB;AACH;AACD,eAAO,GAAP;AACH,KA1BD;;AA4BA,YAAQ,SAAR,CAAkB,WAAlB,GAAgC,UAAU,GAAV,EAAe;AAC3C,YAAI,QAAQ,SAAZ,EAAuB;AACnB,iBAAK,SAAL,GAAiB,KAAK,SAAL,GAAiB,OAAlC;AACA,iBAAK,QAAL,GAAgB,GAAhB;AACH,SAHD,MAGO;AACH,iBAAK,SAAL,GAAiB,KAAK,SAAL,GAAkB,CAAC,OAApC;AACH;AACJ,KAPD;;AASA,YAAQ,SAAR,CAAkB,QAAlB,GAA6B,YAAY;AACrC,eAAO,CAAC,KAAK,SAAL,GAAiB,OAAlB,MAA+B,OAAtC;AACH,KAFD;;AAIA,YAAQ,IAAR,GAAe,UAAU,OAAV,EAAmB,KAAnB,EAA0B;AACrC,eAAO,QAAQ,OAAR,CAAgB,KAAhB,EAAuB,IAAvB,CAA4B,OAA5B,CAAP;AACH,KAFD;AAGC,CAjED","file":"bind-compiled.js","sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n"]}